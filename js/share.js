!function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=0)}([function(e,o,t){"use strict";var n,r,a,i,l,c,d=echarts.init(document.getElementById("china-map")),s=JSON.parse(window.sessionStorage.getItem("grobal")),u=["#1f6d8e","#33a4af","#70d4de","#bce6ea","#e5eabc","#eeeeee"];!function(){console.log(s);var e=new Image;e.setAttribute("crossOrigin","anonymous");var o=document.getElementById("canvas"),t=o.getContext("2d");e.src=s.avatar,e.onload=function(){o.width=e.width,o.height=e.height,t.drawImage(e,0,0)},document.querySelector(".message").innerHTML="<div>我在"+s.province+"</div><div>我为湖北加油! 我为中国加油!</div>",console.log(window.location);new QRCode(document.querySelector(".QRcode"),{text:window.location.href.split("?")[0].replace("share.html","index.html"),colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});var n=document.querySelector(".QRcode > canvas"),r=Canvas2Image.convertToImage(n,n.width,n.height);r.style.cssText="\n    width:14.27vw;\n    height:14.27vw;\n    display:block;\n  ",console.log(r),document.querySelector(".QRcode").removeChild(n),document.querySelector(".QRcode").append(r),document.querySelector(".QRcode").removeChild(document.querySelector("img"))}(),n={series:[{name:"中国",data:s.option,type:"map",mapType:"china",roam:!1,top:"3%",zoom:1.1,selectedMode:"single",label:{normal:{show:!1,textStyle:{color:"#000",fontSize:8,fontWeight:"bold"}},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#000",color:function(e){var o=e.data.value;return u[o>5e3?0:o>1e3?1:o>100?2:o>10?3:o>0?4:5]}},emphasis:{borderWidth:.5,borderColor:"#000",color:function(e){var o=e.data.value;return u[o>5e3?0:o>1e3?1:o>100?2:o>10?3:o>0?4:5]}}},markPoint:{symbol:"circle",symbolSize:8,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{color:35!==s.province_id&&"海外"!==s.province?"rgba(172,50,28,1)":"rgba(0, 0, 0, 0)"}},data:(r=[],r.push({coord:[s.longitude,s.latitude]}),r)}}]},d.setOption(n),d.off("click"),sessionStorage.setItem("need-refresh",!0),a=document.body,i=a.offsetWidth,l=a.offsetHeight,(c=document.createElement("canvas")).width=1*i,c.height=1*l,c.getContext("2d").scale(1,1),console.log(i),console.log(l),html2canvas(a,{scale:1,canvas:c,allowTaint:!0,width:i,height:l,useCORS:!0}).then((function(e){var o=e.getContext("2d");o.mozImageSmoothingEnabled=!1,o.webkitImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1;var t=Canvas2Image.convertToImage(e,e.width,e.height,"jpg");t.style.cssText="\n    width:100vw;\n    height:100vh;\n    position:absolute;\n    top:0;\n    left:0;\n    z-index:999;\n    opacity:0;\n    ",console.log(t),document.body.append(t)}))}]);
//# sourceMappingURL=share.js.map